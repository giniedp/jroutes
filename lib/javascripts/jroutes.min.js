(function(){var a;a=this.Router={};a.window=this.window;a.settings={protocol:null,host:null,port:null,path:null};a.Routes={};a.generate=function(e,c){if(arguments.length===0)throw"no arguments given";var d=a.Routes[e];if(d===void 0)throw"no route defined with name: "+e;if(c.length===1&&typeof c[0]==="object"){var b=0;for(b in c[0])if(c[0].hasOwnProperty(b)){var f=c[0][b];d.match(":"+b)?d=a.replaceHelper(":"+b,d,f):d+=[d.match(/\?/)?"&":"?",b,"=",f].join("")}}else for(b=b=0;b<c.length;b++)d=a.replaceHelper(":\\w+", d,c[b]);for(;/:\w+/.test(d);)d=d.replace(/:\w+/,"");for(;/\(.*\)/.test(d);)d=d.replace(/\(.*\)/,"");return d};a.replaceHelper=function(a,c,d){var b="^(([a-zA-Z0-9\\/\\$\\-\\_\\.\\+\\!\\*\\'\\,])*("+a+"))",f=RegExp("\\([a-zA-Z0-9\\/\\$\\-\\_\\.\\+\\!\\*\\'\\,]*"+a).exec(c),b=RegExp(b).exec(c);if(f!==null&&b===null){for(var f=f.index,i=b=0,h=c.substring(f).split(""),g=0,g=0;g<h.length;g++)if(i+=1,h[g]==="("&&(b+=1),h[g]===")"&&(b-=1),b===0)break;b=f+i;c=c.substring(0,f)+c.substring(f+1,b-1)+c.substring(b)}return c= c.replace(RegExp(a),d)};a.generateBase=function(){var e="";e+=a.settings.protocol!==null?a.settings.protocol+"://":a.window.location.protocol+"//";e+=a.settings.host!==null?a.settings.host:a.window.location.hostname;a.settings.port!==null?e+=":"+a.settings.port:a.window.location.port!==""&&(e+=":"+a.window.location.port);a.settings.path!==null&&(e+=":"+a.settings.path);return e};a.pushRoute=function(e,c){var d;a.Routes[e]=c;a[e+"_path"]=function(){return a.generate(e,arguments)};a[e+"_url"]=function(){return a.generateBase()+ a.generate(e,arguments)}}})();